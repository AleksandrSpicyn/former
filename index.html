<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Former by Anahkiasen</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Former</h1>
        <h2>A powerful form builder for the Laravel framework</h2>
        <a href="https://github.com/Anahkiasen/former" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="former" class="anchor" href="#former"><span class="octicon octicon-link"></span></a>Former</h1>

<h2>
<a name="a-laravelish-way-to-create-and-format-forms" class="anchor" href="#a-laravelish-way-to-create-and-format-forms"><span class="octicon octicon-link"></span></a>A Laravelish way to create and format forms</h2>

<p><a href="http://travis-ci.org/Anahkiasen/former"><img src="https://secure.travis-ci.org/Anahkiasen/former.png" alt="Build Status"></a>
<a href="https://packagist.org/packages/anahkiasen/former"><img src="https://poser.pugx.org/anahkiasen/former/v/stable.png" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/anahkiasen/former"><img src="https://poser.pugx.org/anahkiasen/former/downloads.png" alt="Total Downloads"></a>
<a href="https://scrutinizer-ci.com/g/Anahkiasen/former/"><img src="https://scrutinizer-ci.com/g/Anahkiasen/former/badges/quality-score.png?s=17a96ec08bcefbdf737feed52b88ebcac596c29c" alt="Scrutinizer Quality Score"></a>
<a href="https://scrutinizer-ci.com/g/Anahkiasen/former/"><img src="https://scrutinizer-ci.com/g/Anahkiasen/former/badges/coverage.png?s=861f4579957851e68626c91ed1bb9e76694edaa8" alt="Code Coverage"></a></p>

<p>Former is the name of a little project I'd like to present you — it's a PHP package that allows you to do all kinds of powerful stuff with forms while remaining pretty simple to use. It's also a really nice guy too once you get to know him.</p>

<p>Former chews a lot of the work for you, it handles repopulation, validation, grouped fields, automatic markup for your favorite CSS framework (Bootstrap, Foundation). I invite you to take a look at the features page to get more informations.</p>

<h3>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h3>

<p>Former aims to rethink elegantly form creation by transforming each field into its own model, with its own methods and attributes. This means that you can do this sort of stuff :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">horizontal_open</span><span class="p">()</span>
  <span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="s1">'MyForm'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">secure</span><span class="p">()</span>
  <span class="o">-&gt;</span><span class="na">rules</span><span class="p">([</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'required'</span><span class="p">])</span>
  <span class="o">-&gt;</span><span class="na">method</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">)</span>

  <span class="nx">Former</span><span class="o">::</span><span class="na">xlarge_text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">class</span><span class="p">(</span><span class="s1">'myclass'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">value</span><span class="p">(</span><span class="s1">'Joseph'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">required</span><span class="p">();</span>

  <span class="nx">Former</span><span class="o">::</span><span class="na">textarea</span><span class="p">(</span><span class="s1">'comments'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">rows</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">columns</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">autofocus</span><span class="p">();</span>

  <span class="nx">Former</span><span class="o">::</span><span class="na">actions</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">large_primary_submit</span><span class="p">(</span><span class="s1">'Submit'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">large_inverse_reset</span><span class="p">(</span><span class="s1">'Reset'</span><span class="p">)</span>

<span class="nx">Former</span><span class="o">::</span><span class="na">close</span><span class="p">()</span>
</pre></div>

<p>Every time you call a method that doesn't actually exist, Former assumes you're trying to set an attribute and creates it magically. That's why you can do in the above example <code>-&gt;rows(10)</code> ; in case you want to set attributes that contain dashes, just replace them by underscores : <code>-&gt;data_foo('bar')</code> equals <code>data-foo="bar"</code>.
Now of course in case you want to set an attribute that actually contains an underscore (jeez aren't you the little smartass) you can always use the fallback method <code>setAttribute('data_foo', 'bar')</code>. You're welcome.</p>

<p>This is the core of it, but Former offers a lot more. I invite you to consult the wiki to see the extend of what Former does.</p>

<hr><h1>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting started</h1>

<h2>
<a name="core-concept" class="anchor" href="#core-concept"><span class="octicon octicon-link"></span></a>Core concept</h2>

<p>Former is to be used as a View helper – meaning it provides for you a class that you can use directly in your views to output HTML code.</p>

<div class="highlight"><pre><span class="o">&lt;?=</span> <span class="nx">Former</span><span class="o">::</span><span class="na">open</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">method</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">required</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">Former</span><span class="o">::</span><span class="na">close</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>If you're using Twig or other more closed view templating systems, you can still use Former's classes outside :</p>

<div class="highlight"><pre><span class="nv">$form</span> <span class="o">=</span> <span class="nx">Former</span><span class="o">::</span><span class="na">open</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">method</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">);</span>
    <span class="nv">$form</span> <span class="o">.=</span> <span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">required</span><span class="p">();</span>
<span class="nv">$form</span> <span class="o">.=</span> <span class="nx">Former</span><span class="o">::</span><span class="na">close</span><span class="p">();</span>
</pre></div>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a name="under-laravel-3" class="anchor" href="#under-laravel-3"><span class="octicon octicon-link"></span></a>Under Laravel 3</h3>

<p>Clone the <code>laravel3</code> branch of the repo in your <code>bundles</code> folder and add <code>'former' =&gt; array('auto' =&gt; true)</code> to your bundles file.
Then add as an alias <code>'Former' =&gt; 'Former\Facades\Former'</code> in your application file and you're good to go !</p>

<h3>
<a name="under-laravel-4" class="anchor" href="#under-laravel-4"><span class="octicon octicon-link"></span></a>Under Laravel 4</h3>

<p>Installing Former is easy as hell. Add the following to your <code>composer.json</code> :</p>

<pre><code>"anahkiasen/former": "dev-master"
</code></pre>

<p>Add Former's service provider to your Laravel application in <code>app/config/app.php</code>. In the <code>providers</code> array add :</p>

<pre><code>'Former\FormerServiceProvider',
</code></pre>

<p>Add then alias Former's main class by adding its facade to the <code>aliases</code> array in the same file :</p>

<pre><code>'Former' =&gt; 'Former\Facades\Former',
</code></pre>

<h3>
<a name="with-package-installer" class="anchor" href="#with-package-installer"><span class="octicon octicon-link"></span></a>With Package installer</h3>

<p>Simply do <code>artisan package:install anahkiasen/former:dev-master</code></p>

<h3>
<a name="outside-of-a-framework" class="anchor" href="#outside-of-a-framework"><span class="octicon octicon-link"></span></a>Outside of a framework</h3>

<p>Same as for Laravel 4, add Former to your Composer file. Then do this :</p>

<div class="highlight"><pre><span class="k">use</span> <span class="nx">Former\Facades\Former</span><span class="p">;</span>
</pre></div>

<p>And you're done.</p>

<h1>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h1>

<h2>
<a name="out-of-the-box-integration-to-bootstrap-and-foundation" class="anchor" href="#out-of-the-box-integration-to-bootstrap-and-foundation"><span class="octicon octicon-link"></span></a>Out-of-the-box integration to Bootstrap and Foundation</h2>

<p>So that's pretty nice, but so far that just looks like a modification of Laravel's Form class I mean, what's so fancy about all that ? That's where the magic underneath lies : Former recognizes when you create an horizontal or vertical form, and goes the extra mile of wrapping each field in a control group, all behind the scenes.
That means that when you type this :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">select</span><span class="p">(</span><span class="s1">'clients'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">options</span><span class="p">(</span><span class="nv">$clients</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">help</span><span class="p">(</span><span class="s1">'Pick some dude'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">state</span><span class="p">(</span><span class="s1">'warning'</span><span class="p">)</span>
</pre></div>

<p>What you actually get is the following output (with Bootstrap) :</p>

<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"control-group warning"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"clients"</span> <span class="na">class=</span><span class="s">"control-label"</span><span class="nt">&gt;</span>Clients<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"controls"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"clients"</span> <span class="na">name=</span><span class="s">"clients"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"0"</span><span class="nt">&gt;</span>Mickael<span class="nt">&lt;/option&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"1"</span><span class="nt">&gt;</span>Joseph<span class="nt">&lt;/option&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"2"</span> <span class="na">selected=</span><span class="s">"selected"</span><span class="nt">&gt;</span>Patrick<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;/select&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"help-inline"</span><span class="nt">&gt;</span>Pick some dude<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>By default Former will use Twitter Bootstrap for its syntax but you can select which framework to use with the method <code>Former::framework()</code>. For the moment Former supports <code>'TwitterBootstrap'</code>, <code>'ZurbFoundation'</code> and <code>'Nude'</code> (for no framework).</p>

<div class="highlight"><pre><span class="c1">// Turn off Bootstrap syntax</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">framework</span><span class="p">(</span><span class="s1">'Nude'</span><span class="p">);</span>

<span class="c1">// Turn it on again (MAKE UP YOUR MIND JEEZ)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">framework</span><span class="p">(</span><span class="s1">'TwitterBootstrap'</span><span class="p">);</span>
</pre></div>

<p>Here is an example of code for Foundation :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">framework</span><span class="p">(</span><span class="s1">'ZurbFoundation'</span><span class="p">);</span>

<span class="nx">Former</span><span class="o">::</span><span class="na">four_text</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">state</span><span class="p">(</span><span class="s1">'error'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">help</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">)</span>
</pre></div>

<p>Outputs :</p>

<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"error"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"foo"</span><span class="nt">&gt;</span>Foo<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">"four"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"foo"</span> <span class="na">id=</span><span class="s">"foo"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;small&gt;</span>Bar<span class="nt">&lt;/small&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<h2>
<a name="ties-in-with-laravels-validator" class="anchor" href="#ties-in-with-laravels-validator"><span class="octicon octicon-link"></span></a>Ties-in with Laravel's Validator</h2>

<p>So ok, that's already a lot of clutter removed by not having to call the lenghty <code>Form::control_group()</code> function. Now I hear you coming : "but you know I still have to manually validate my form and su"— Well no you don't. Enters Former's magic helper <code>withErrors</code>; what it does is pretty simple. Since it's already wrapping your nice fields into control groups, it goes the distance, and gently check the <code>Message</code> object for any errors that field might have, and set that error as an <code>.help-inline</code>. Now we're talking !</p>

<p>Now you use it differently according to how your code reacts after a failed validation :</p>

<h3>
<a name="if-your-render-a-view-on-failed-validation-no-redirection" class="anchor" href="#if-your-render-a-view-on-failed-validation-no-redirection"><span class="octicon octicon-link"></span></a>If your render a view on failed validation (no redirection)</h3>

<div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="nv">$validation</span><span class="o">-&gt;</span><span class="na">fails</span><span class="p">())</span> <span class="p">{</span>
  <span class="nx">Former</span><span class="o">::</span><span class="na">withErrors</span><span class="p">(</span><span class="nv">$validation</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">View</span><span class="o">::</span><span class="na">make</span><span class="p">(</span><span class="s1">'myview'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<h3>
<a name="if-your-redirect-on-failed-validation" class="anchor" href="#if-your-redirect-on-failed-validation"><span class="octicon octicon-link"></span></a>If your redirect on failed validation</h3>

<div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="nv">$validation</span><span class="o">-&gt;</span><span class="na">fails</span><span class="p">())</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">Redirect</span><span class="o">::</span><span class="na">to</span><span class="p">(</span><span class="s1">'login'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">with_errors</span><span class="p">(</span><span class="nv">$validation</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Now on the last example you never actually call Former, be it in your controller or in your view. Why is that ? That's because when Former opens a form on a page, it will automatically check in Session if there's not an object called <code>errors</code> and if there is, it will try to use it without requiring you to call anything.
You can disable Former's automatic errors fetching with the following option : <code>Former::setOption('fetch_errors', false)</code>.</p>

<h2>
<a name="form-populating" class="anchor" href="#form-populating"><span class="octicon octicon-link"></span></a>Form populating</h2>

<p>You can populate a form with value quite easily with the <code>Former::populate</code> function. There is two ways to do that. The first way is the usual passing of an array of values, like this :</p>

<div class="highlight"><pre><span class="c1">// Will populate the field 'name' with the value 'value'</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">populate</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'value'</span><span class="p">)</span> <span class="p">)</span>
</pre></div>

<p>You can also populate a form by passing an Eloquent model to it, say you have a Client model, you can do that. This allows for a lot of goodies, I'll get back to it.</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">populate</span><span class="p">(</span> <span class="nx">Client</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
</pre></div>

<p>Former will recognize the model and populate the field with the model's attribute. If here per example our client has a <code>name</code> set to 'Foo' and a <code>firstname</code> set to 'Bar', Former will look for fields named 'name' and 'firstname' and fill them respectively with 'Foo' and 'Bar'.</p>

<p>Alternatively you can also populate a specific field after you've populated the whole form (for a relationship per example) by doing this :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">populate</span><span class="p">(</span><span class="nv">$project</span><span class="p">)</span>

<span class="nx">Former</span><span class="o">::</span><span class="na">populateField</span><span class="p">(</span><span class="s1">'client'</span><span class="p">,</span> <span class="nv">$project</span><span class="o">-&gt;</span><span class="na">client</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">)</span>
</pre></div>

<p>For the rest of the form, filling fields is basically as easy as doing <code>-&gt;value('something')</code>.
To generate a list of options for a <code>&lt;select&gt;</code> you call <code>Former::select('foo')-&gt;options([array], [facultative: selected value])</code>.
You can also use the results from an Eloquent/Fluent query as options for a select, like this :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">select</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">fromQuery</span><span class="p">(</span><span class="nx">Client</span><span class="o">::</span><span class="na">all</span><span class="p">(),</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">'id'</span><span class="p">)</span>
</pre></div>

<p>Where the second argument is which attribute will be used for the option's text, and the third facultative argument is which attribute will be used for the option's value (defaults to the <code>id</code> attribute).
Former also does some magic if none of those two arguments are specified. Say you pass Eloquent models to Former and don't specify what is to be used as key or value. Former will obtain the key by using Eloquent's <code>get_key()</code> method, and use any <code>__toString()</code> method binded to the model as raw value. Take this example :</p>

<div class="highlight"><pre><span class="k">class</span> <span class="nc">Client</span> <span class="k">extends</span> <span class="nx">Eloquent</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="k">static</span> <span class="nv">$key</span> <span class="o">=</span> <span class="s1">'code'</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">__toString</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">Former</span><span class="o">::</span><span class="na">select</span><span class="p">(</span><span class="s1">'clients'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">fromQuery</span><span class="p">(</span><span class="nx">Client</span><span class="o">::</span><span class="na">all</span><span class="p">());</span>
</pre></div>

<p>Is the same as doing this but you know, in less painful and DRYer. This will use each Client's default key, and output the Client's name as the option's label.</p>

<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"control-group"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"foo"</span> <span class="na">class=</span><span class="s">"control-label"</span><span class="nt">&gt;</span>Foo<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"controls"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"foo"</span> <span class="na">name=</span><span class="s">"foo"</span><span class="nt">&gt;</span>
      @foreach(Client::all() as $client)
        @if(Input::get('foo', Input::old('foo')) == $client-&gt;code)
          <span class="nt">&lt;option</span> <span class="na">selected=</span><span class="s">"selected"</span> <span class="na">value=</span><span class="s">"{{ $client-&gt;code }}"</span><span class="nt">&gt;</span>{{ $client-&gt;name }}<span class="nt">&lt;/option&gt;</span>
        @else
          <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"{{ $client-&gt;code }}"</span><span class="nt">&gt;</span>{{ $client-&gt;name }}<span class="nt">&lt;/option&gt;</span>
        @endif
      @endforeach
    <span class="nt">&lt;/select&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Former is also able to populate fields with relationships. Now an example is worth a thousand words (excepted if, you know, your example is a thousand words long) :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">populate</span><span class="p">(</span><span class="nx">Client</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>

<span class="c1">// Will populate with $client-&gt;name</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span>

<span class="c1">// Will populate with $client-&gt;store-&gt;name</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'store.name'</span><span class="p">)</span>

<span class="c1">// You can go as deep as you need to</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'customer.name.adress'</span><span class="p">)</span>

<span class="c1">// Will populate with the date from all of the client's reservations</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">select</span><span class="p">(</span><span class="s1">'reservations.date'</span><span class="p">)</span>

<span class="c1">// Which is the same as this ^</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">select</span><span class="p">(</span><span class="s1">'reservations'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">fromQuery</span><span class="p">(</span><span class="nv">$client</span><span class="o">-&gt;</span><span class="na">reservations</span><span class="p">,</span> <span class="s1">'date'</span><span class="p">)</span>

<span class="c1">// If you're using a text and not a select, instead of listing the</span>
<span class="c1">// relationship's models as options, it wil concatenate them</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'customers.name'</span><span class="p">)</span> <span class="c1">// Will display "name, name, name"</span>

<span class="c1">// You can rename a field afterwards for easier Input handling</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'comment.title'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">'title'</span><span class="p">)</span>
</pre></div>

<p>Kudos to <a href="https://github.com/cviebrock">cviebrock</a> for the original idea.</p>

<h2>
<a name="datalists" class="anchor" href="#datalists"><span class="octicon octicon-link"></span></a>Datalists</h2>

<p>But what else does it do ? Datalists, it can do datalists. You don't know what they are ? Ok; you know how sometimes you would like to make people chose between something in a select but also being able to type what they want if it's not in it ? That's a datalist. In Former you can simply create one like that :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'clients'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">useDatalist</span><span class="p">(</span><span class="nv">$clients</span><span class="p">)</span>

<span class="c1">// Or use a Query object, same syntax than fromQuery()</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'projects'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">useDatalist</span><span class="p">(</span><span class="nx">Project</span><span class="o">::</span><span class="na">all</span><span class="p">(),</span> <span class="s1">'name'</span><span class="p">)</span>
</pre></div>

<p>You can also (if you need to) set a custom id on the created datalist by doing <code>Former::text('foo')-&gt;list('myId')-&gt;useDatalist()</code>.
From there it will automatically generate the corresponding <code>&lt;datalist&gt;</code> and link it by <code>id</code> to that field. Which means your text input will get populated by the values in your array, while still letting people type whatever they want if they don't find happiness and/or are little pains in the ass.</p>

<h2>
<a name="live-validation" class="anchor" href="#live-validation"><span class="octicon octicon-link"></span></a>Live validation</h2>

<p>MORE. Ok, instant validation, we all like that don't we ? Now as some of you may know, all modern browsers support instant validation via HTML attributes — no Javascript needed nor script nor polyfill. There are a few attributes that can do that kind of job for you, <code>pattern</code>, <code>required</code>, <code>max/min</code> to name a few.
Now you know when you validate your POST data with that little <code>$rules</code> array stuff ? Wouldn't it be awesome to just be able to pass that array to your form and let it transcribe your rules into real-live validation ? Yes ? Because you totally can with Former, just sayin'.
Take the following (far-fetched) rules array :</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">open</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">rules</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'name'</span>     <span class="o">=&gt;</span> <span class="s1">'required|max:20|alpha'</span><span class="p">,</span>
  <span class="s1">'age'</span>      <span class="o">=&gt;</span> <span class="s1">'between:18,24'</span><span class="p">,</span>
  <span class="s1">'email'</span>    <span class="o">=&gt;</span> <span class="s1">'email'</span><span class="p">,</span>
  <span class="s1">'show'</span>     <span class="o">=&gt;</span> <span class="s1">'in:batman,spiderman'</span><span class="p">,</span>
  <span class="s1">'random'</span>   <span class="o">=&gt;</span> <span class="s1">'match:/[a-zA-Z]+/'</span><span class="p">,</span>
  <span class="s1">'birthday'</span> <span class="o">=&gt;</span> <span class="s1">'before:1968-12-03'</span><span class="p">,</span>
  <span class="s1">'avatar'</span>   <span class="o">=&gt;</span> <span class="s1">'image'</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>

<p>What Former will do is look for fields that match the keys and apply the best it can those rules. There's not a lot of supported rules for now but I plan on adding more.</p>

<div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"name"</span>      <span class="na">type=</span><span class="s">"text"</span>   <span class="na">required</span> <span class="na">maxlength=</span><span class="s">"20"</span> <span class="na">pattern=</span><span class="s">"[a-zA-Z]+"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"age"</span>       <span class="na">type=</span><span class="s">"number"</span> <span class="na">min=</span><span class="s">"18"</span> <span class="na">max=</span><span class="s">"24"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"email"</span>     <span class="na">type=</span><span class="s">"email"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"show"</span>      <span class="na">type=</span><span class="s">"text"</span>   <span class="na">pattern=</span><span class="s">"^(batman|spiderman)$"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"random"</span>    <span class="na">type=</span><span class="s">"text"</span>   <span class="na">pattern=</span><span class="s">"[a-zA-Z]+"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"birthday"</span>  <span class="na">type=</span><span class="s">"date"</span>   <span class="na">max=</span><span class="s">"1968-12-03"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">"avatar"</span>    <span class="na">type=</span><span class="s">"file"</span>   <span class="na">accept=</span><span class="s">"image/jpeg,image/png,image/gif,image/bmp"</span> <span class="nt">/&gt;</span>
</pre></div>

<p>Note that you can always add custom rules the way you'd add any attributes, since the pattern attribute uses a Regex (and if you don't speak Regex you totally should because it will guide you through life or something).</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">number</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>

<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'client_code'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">pattern</span><span class="p">(</span><span class="s1">'[a-z]{4}[0-9]{2}'</span><span class="p">)</span>
</pre></div>

<p>And that's it ! And the best news : since Bootstrap recognizes live validation, if say you try to type something that doesn't match the <code>alpha</code> pattern in your name field, it will automatically turn red just like when your control group is set to <code>error</code>. Just like that, fingers snappin' and all, nothing to do but sit back, relax, and watch Chrome/Firefox/whatever pop up a sweet little box saying "You have to fill that field dude" or "That is not email, what are you trying to do, fool me or something ?".</p>

<p>You can also, mid-course, manually set the state of a control group — that's a feature of course available only if you're using either Bootstrap or Foundation. You can use any of the control group states which include <code>success</code>, <code>warning</code>, <code>error</code> and <code>info</code>.</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">state</span><span class="p">(</span><span class="s1">'error'</span><span class="p">)</span>
</pre></div>

<h2>
<a name="files-handling" class="anchor" href="#files-handling"><span class="octicon octicon-link"></span></a>Files handling</h2>

<p>In Former like in Laravel you can create a simple file field with <code>Former::file</code>. What's new, is you can also create a multiple files field by calling <code>Former::files</code> which which will generate <code>&lt;input type="file" name="foo[]" multiple /&gt;</code>.</p>

<p>One of the special method is the <code>-&gt;accept()</code> with which you can do the following :</p>

<div class="highlight"><pre><span class="c1">// Use a shortcut (image, video or audio)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">files</span><span class="p">(</span><span class="s1">'avatar'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">accept</span><span class="p">(</span><span class="s1">'image'</span><span class="p">)</span>

<span class="c1">// Use an extension which will be converted to MIME by Laravel</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">files</span><span class="p">(</span><span class="s1">'avatar'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">accept</span><span class="p">(</span><span class="s1">'gif'</span><span class="p">,</span> <span class="s1">'jpg'</span><span class="p">)</span>

<span class="c1">// Or directly use a MIME</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">files</span><span class="p">(</span><span class="s1">'avatar'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">accept</span><span class="p">(</span><span class="s1">'image/jpeg'</span><span class="p">,</span> <span class="s1">'image/png'</span><span class="p">)</span>
</pre></div>

<p>You can also set a maximum size easily by using either bits or bytes</p>

<div class="highlight"><pre><span class="nx">Former</span><span class="o">::</span><span class="na">file</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'MB'</span><span class="p">)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">file</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="s1">'Ko'</span><span class="p">)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">file</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'TB'</span><span class="p">)</span>
</pre></div>

<p>This will create an hidden <code>MAX_FILE_SIZE</code> field with the correct value in bytes.</p>

<h2>
<a name="checkboxes-and-radios" class="anchor" href="#checkboxes-and-radios"><span class="octicon octicon-link"></span></a>Checkboxes and Radios</h2>

<p>Checkboxes and radios, man, aren't those annoying ? Even more when you have to create several of them, and you think in your head "WHY CAN'T I VALIDATE ALL THESE LIMES ?". With Former it's all a little easier :</p>

<div class="highlight"><pre><span class="c1">// Create a one-off checkbox</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">'checkme'</span><span class="p">)</span>

<span class="c1">// Create a one-off checkbox with a text, and check it</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">'checkme'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="s1">'YO CHECK THIS OUT'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">check</span><span class="p">()</span>

<span class="c1">// Create four related checkboxes</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">checkboxes</span><span class="p">(</span><span class="s1">'checkme'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">checkboxes</span><span class="p">(</span><span class="s1">'first'</span><span class="p">,</span> <span class="s1">'second'</span><span class="p">,</span> <span class="s1">'third'</span><span class="p">,</span> <span class="s1">'fourth'</span><span class="p">)</span>

<span class="c1">// Create related checkboxes, and inline them</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">checkboxes</span><span class="p">(</span><span class="s1">'checkme'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">checkboxes</span><span class="p">(</span><span class="nv">$checkboxes</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">inline</span><span class="p">()</span>

<span class="c1">// Everything that works on a checkbox also works on a radio element</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">radios</span><span class="p">(</span><span class="s1">'radio'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">radios</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'name'</span><span class="p">))</span>
  <span class="o">-&gt;</span><span class="na">stacked</span><span class="p">()</span>

<span class="c1">// Stacked and inline can also be called as magic methods</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">inline_checkboxes</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">checkboxes</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">stacked_radios</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">radios</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">)</span>

<span class="c1">// Set which checkables are checked or not in one move</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">checkboxes</span><span class="p">(</span><span class="s1">'level'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">checkboxes</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">check</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'level_0'</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="s1">'level_1'</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span> <span class="s1">'level_2'</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">))</span>

<span class="c1">// Fine tune checkable elements</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">radios</span><span class="p">(</span><span class="s1">'radio'</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">radios</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'data-foo'</span> <span class="o">=&gt;</span> <span class="s1">'bar'</span><span class="p">),</span>
    <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'data-foo'</span> <span class="o">=&gt;</span> <span class="s1">'bar'</span><span class="p">),</span>
  <span class="p">))</span>
</pre></div>

<p><strong>Important point :</strong> Former gives you an option to force the pushing of checkboxes. What is that you mean ? That's when your checkboxes still pop up in your POST data even when they're unchecked. That sounds pretty normal but is actually the opposite of the weird-ass default behavior of forms. "IT'S UNCHECKED ? I HAVE NO RECOLLECTION WHATSOEVER OF THAT FIELD HAVING EVER EXISTED".
You can change what value an unchecked checkbox possesses in the POST array via the <code>unchecked_value</code> option.</p>

<p>When creating checkables via the checkboxes/radios() method, by default for each checkable name attribute it will use the original name you specified and append it a number (here in our exemple it would be <code>&lt;input type="checkbox" name="checkme_2"&gt;</code>).
It also repopulates it, meaning a checked input will stay checked on submit.</p>

<h2>
<a name="localization-helpers" class="anchor" href="#localization-helpers"><span class="octicon octicon-link"></span></a>Localization helpers</h2>

<p>For those of you that work on multilingual projects, Former is also here to help. By default, when creating a field, if no label is specified Former will use the field name by default. But more importantly it will try and translate it automatically. Same goes for checkboxes labels, help texts and form legends. Which means the following :</p>

<div class="highlight"><pre><span class="c1">// This</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">label</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">'validation.attributes.name'</span><span class="p">))</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">,</span> <span class="nx">__</span><span class="p">(</span><span class="s1">'validation.attributes.name'</span><span class="p">))</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">inlineHelp</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">'help.name'</span><span class="p">))</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">'rules'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">'my.translation'</span><span class="p">))</span>
<span class="o">&lt;</span><span class="nx">legend</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nx">__</span><span class="p">(</span><span class="s1">'validation.attributes.mylegend'</span><span class="p">)</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="nx">legend</span><span class="o">&gt;</span>

<span class="c1">// Is the same as this</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">label</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">text</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">inlineHelp</span><span class="p">(</span><span class="s1">'help.name'</span><span class="p">)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">'rules'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="s1">'my.translation'</span><span class="p">)</span>
<span class="nx">Former</span><span class="o">::</span><span class="na">legend</span><span class="p">(</span><span class="s1">'mylegend'</span><span class="p">)</span>
</pre></div>

<p>Which you know, is kind of cool. Former will first try to translate the string in itself, ie <code>my.text</code> will return <code>__('my.text')</code> and if that fails, it will look for it in a fallback place. You can set where Former look for translations by changing the following variable : <code>Former::setOption('translate_from', [boolean])</code> (defaults to <code>validation.attributes</code>). Note that <strong>it must be an array</strong>.</p>

<h2>
<a name="notes-on-setting-field-values" class="anchor" href="#notes-on-setting-field-values"><span class="octicon octicon-link"></span></a>Notes on setting field values</h2>

<p>All form classes encounter a problem at one point : what kind of data takes precedence over what kind ? To populate your field, Former set the following priorities to found values :</p>

<ul>
<li>POST data takes precedence over everything – if a user just typed something in a field, chances are this <em>is</em> what they want to see in it next time</li>
<li>Then comes data set via the <code>-&gt;forceValue()</code> method – it's a special branch of <code>-&gt;value()</code> created to force a value in a field no matter what happens</li>
<li>Then any values set via <code>Former::populate()</code> – that means that if you're editing something or are repopulating with some value, it can be overwritten with <code>forceValue</code>
</li>
<li>Finally the classic <code>-&gt;value()</code> gets the least priority – it is created for minimum and default field values and thus gets overwritten by population and POST data</li>
</ul><h1>
<a name="anatomy-of-former" class="anchor" href="#anatomy-of-former"><span class="octicon octicon-link"></span></a>Anatomy of Former</h1>

<p>Bare with me, there are a lot of classes but it all makes sense once you read what they do :</p>

<ul>
<li>
<strong>Former</strong> : The main class, mostly handles configuration and interactions between the form parts</li>
<li>
<strong>FormerServiceProvider</strong> : The Service Provider for Laravel 4</li>
<li>
<strong>Helpers</strong> : A set of static helpers used troughout the library</li>
<li>
<strong>Dispatch</strong> : Catches the call you do the <code>Former</code> facade and dispatches them to the right classes</li>
<li>
<strong>LiveValidation</strong> : Handles live validation of fields and translation of rules into attributes</li>
<li>
<strong>Populator</strong> : A value container from which Former gets/sets the fields values</li>
<li>
<strong>Traits</strong>

<ul>
<li>
<strong>Checkable</strong> : Common methods and properties to radios and checkboxes</li>
<li>
<strong>Field</strong> : Common methods and properties to all fields</li>
<li>
<strong>FormerObject</strong> : A base object extended by the traits above, handles dynamic attributes and stuff</li>
<li>
<strong>Framework</strong> : Common methods and properties to all frameworks</li>
</ul>
</li>
<li>
<strong>Interfaces</strong> : Required methods by all fields an frameworks

<ul>
<li><strong>FieldInterface</strong></li>
<li><strong>FrameworkInterface</strong></li>
</ul>
</li>
<li>
<strong>Framework</strong> : These classes generate the right markup according to the framework in use

<ul>
<li><strong>Nude</strong></li>
<li><strong>TwitterBootstrap</strong></li>
<li><strong>ZurbFoundation</strong></li>
</ul>
</li>
<li>
<strong>Form</strong> : All the classes underneath handle the actual markup and elements of a form

<ul>
<li>
<strong>Actions</strong> : Handles the actions blocks where submit buttons and all are found</li>
<li>
<strong>Elements</strong> : Various form elements that are neither fields nor actions (legends, etc)</li>
<li>
<strong>Form</strong> : Handles the form opening and closing and the methods that go with it</li>
<li>
<strong>Group</strong> : Wraps fields and provide field states, errors fetching and such</li>
<li>
<strong>Fields</strong> : The field classes, each handle one kind of field. The names say it all

<ul>
<li><strong>Button</strong></li>
<li><strong>Checkbox</strong></li>
<li><strong>File</strong></li>
<li><strong>Hidden</strong></li>
<li><strong>Input</strong></li>
<li><strong>Radio</strong></li>
<li><strong>Select</strong></li>
<li><strong>Textarea</strong></li>
<li><strong>Uneditable</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<strong>Facades</strong> : Various entry points that smooth out the experience across environments

<ul>
<li>
<strong>Agnostic</strong> : The base facade used by Former outside of any framework</li>
<li>
<strong>FormerBuilder</strong> : Common methods and building blocks for all facades to use</li>
<li>
<strong>Illuminate</strong> : The Laravel 4 facade, hooks up Former to the various components (localization etc)</li>
<li>
<strong>LaravelThree</strong> : The Laravel 3 facade, hooks up Former to the various components (localization etc)</li>
<li>
<strong>Legacy</strong> : A set of redirector classes that unify the interface between Laravel 3 and 4

<ul>
<li><strong>Config</strong></li>
<li><strong>Redirector</strong></li>
<li><strong>Session</strong></li>
<li><strong>Translator</strong></li>
</ul>
</li>
</ul>
</li>
</ul><h1>
<a name="description-of-each-method" class="anchor" href="#description-of-each-method"><span class="octicon octicon-link"></span></a>Description of each method</h1>

<h2>
<a name="formerformer" class="anchor" href="#formerformer"><span class="octicon octicon-link"></span></a>Former\Former</h2>

<p>This class is the main class - it is your interface for everything in Former. Now of course, Former makes you interact with its subclasses which means you can not only use its methods but the methods of each class used by Former.</p>

<h3>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options</h3>

<p>This is a set of options that can be set to modify Former's behavior.</p>

<pre><code>Former::setOption('translate_from', [string]) ('validation.attributes')
</code></pre>

<p>By default Former tries to translate most labels, legends and help texts. For that it first tries to translate the string passed as is, and then it tries to look in a special place that can be defined with this variable - defaulting to 'validation.attributes.mykey'.</p>

<pre><code>Former::setOption('required_class', [string]) ('required')
</code></pre>

<p>A class to add to fields that are set as required.</p>

<pre><code>Former::setOption('default_form_type', [horizontal|vertical|inline|search]) ('horizontal')
</code></pre>

<p>By default when you call <code>Former::open</code> a fallback form type gets assigned to the form – this is the option that says which one is that type. It can be any of those values, or null if you want don't want to use Bootstrap's form classes.</p>

<pre><code>Former::setOption('fetch_errors', [boolean]) (true)
</code></pre>

<p>Whenever you call the <code>open</code> method, if this option is set to true, Former will look into the Session array for a <code>Message</code> objects that would have been created by the <code>-&gt;with_errors()</code> method of <code>Redirect</code>. Which means that if on failed validation you do <code>Redirect::to()-&gt;with_errors()</code>, Former will automatically fetch said errors and display them on the corresponding fields without having to type anything.</p>

<pre><code>Former::setOption('automatic_label', [boolean]) (true)
</code></pre>

<p>Allows the user to turn on or off the automatic labeling feature. When it's on, if you give per example <code>foo</code> as a field name and no label, Former will assume <code>foo</code> is also to be used as label. Former will then attempt to translate it, capitalize it, and use it as label. With this option turned off, if no label is specific, no label tag will be printed out.</p>

<pre><code>Former::setOption('live_validation', [boolean]) (true)
</code></pre>

<p>Whether Former should try to apply Laravel's Validator rules as live validation attributes.</p>

<pre><code>Former::setOption('push_checkboxes', [boolean]) (true)
</code></pre>

<p>Whether checkboxes should always be present in the POST data, no matter if you checked them or not</p>

<h3>
<a name="helpers" class="anchor" href="#helpers"><span class="octicon octicon-link"></span></a>Helpers</h3>

<pre><code>Former::populate([array|Eloquent])
</code></pre>

<p>Populates the fields with an array of values <strong>or</strong> an Eloquent object.</p>

<pre><code>Former::withErrors([Validator])
</code></pre>

<p>If you have an <code>$errors</code> variable from a failed validation, Former will automatically fetch it from Session and set the corresponding fields as incorrect and display the error message right next to them. This is if you're calling <code>withErrors</code> in your view. If you're in the controller, you can simply pass the <code>$validator</code> object to Former and it will work just the same.</p>

<pre><code>Former::withRules([array])
</code></pre>

<p>Let you pass an array of Laravel rules to Former, to let it try and apply those rules live with HTML attributes such as <code>pattern</code>, <code>maxlength</code>, etc.</p>

<pre><code>Former::framework([bootstrap|zurb|null])
</code></pre>

<p>Select which CSS framework Former should use for its syntax – each gives you more or less access to the available methods. Per example you can't use Bootstrap's <code>-&gt;blockHelp</code> method while using Zurb, etc.</p>

<pre><code>$error = Former::getErrors([string])
</code></pre>

<p>Equivalent to <code>$error = isset($errors) ? $errors-&gt;first('field') : null</code>.</p>

<h3>
<a name="form-builders" class="anchor" href="#form-builders"><span class="octicon octicon-link"></span></a>Form builders</h3>

<pre><code>Former::legend([string])
</code></pre>

<p>Opens a Bootstrap <code>&lt;legend&gt;</code> tag in your form – the string passed to Former can be a translation index since Former will attempt to translate it.</p>

<pre><code>Former::open()
</code></pre>

<p>The <code>open</code> method mirrors Laravel's, which means you can refer to the doc for it on Laravel's website. But it also support the magic methods introduced by Bootstrapper for backward compatibility :</p>

<pre><code>Former::horizontal_open()
Former::secure_open()
Former::open_for_files()
Former::secure_vertical_open_for_files()
</code></pre>

<p>You can mix it up however you want as long as each block remain intact (ie. you can't do <code>secure_files_open_for_vertical</code> because that makes no fucking sense).</p>

<pre><code>Former::close()
</code></pre>

<p>Pretty straightforward, simply prints out a <code>&lt;/form&gt;</code> tag. No argument or nothing.</p>

<pre><code>Former::actions([string, ...])
</code></pre>

<p>Creates a <code>&lt;div class='form-actions'&gt;</code> tag to wrap your submit/reset/back/etc buttons. To output multiple buttons simply use multiple arguments</p>

<pre><code>// Button class from Bootstrapper
Former::actions( Button::submit('Submit'), Button::reset('Reset') )
</code></pre>

<h3>
<a name="field-builders" class="anchor" href="#field-builders"><span class="octicon octicon-link"></span></a>Field builders</h3>

<p>And the one class you'll be using the two thirds of the time :</p>

<pre><code>Former::[classes]_[field]
</code></pre>

<p>This method analyze whatever unknown method you're trying to call and creates a field with it. It decomposes it as [classes]_[field] or [field].
As classes you can call all Bootstrap classes working on fields : <strong>span1</strong> to <strong>span12</strong> and <strong>mini</strong> to <strong>xxlarge</strong>.</p>

<h2>
<a name="formerfield" class="anchor" href="#formerfield"><span class="octicon octicon-link"></span></a>Former\Field</h2>

<p>This class is what you actually get when you create a field, which means the method listed underneath are only accessible as chained methods after a field was created. To put it simply :</p>

<pre><code>// Here you're using Former
Former::populate($project)

// Here you're actually using the Field class wrapped in Former
Former::text('foo')
</code></pre>

<p>A Former class stops being a field the second that field is printed out. Which means that you can do this :</p>

<pre><code>$textField = Former::text('foo');
$textField-&gt;class('myclass')
</code></pre>

<p>But can't do this :</p>

<pre><code>echo Former::text('foo')
Former::class('myclass')
</code></pre>

<p>Because fields are like little birds and once they fly away you can't get take care of them anymore.</p>

<h3>
<a name="interactions-with-the-attributes" class="anchor" href="#interactions-with-the-attributes"><span class="octicon octicon-link"></span></a>Interactions with the attributes</h3>

<pre><code>Former::text('foo')-&gt;addClass([string])
</code></pre>

<p>Adds a class to the current field <strong>without</strong> overwriting any existing one. This differs front <code>-&gt;class()</code> will — just like any attribute setter — overwrite any existing value.</p>

<pre><code>Former::text('foo')-&gt;forceValue([string])
</code></pre>

<p>Sets the field value to something. This will be overwritten by POST data, <strong>but will overwrite calls to <code>Former::populate</code></strong>.</p>

<pre><code>Former::text('foo')-&gt;value([string])
</code></pre>

<p>Sets a default value for a field — a text present in it but that will get overwritten by calls to <code>Former::populate</code> or POST data.</p>

<pre><code>Former::text('foo')-&gt;[attribute]([value])
</code></pre>

<p>Sets the value of any attribute. Attributes containing dashes have to be replaced with an underscore, so that you'd call <code>data_foo('bar')</code> to set <code>data-foo="bar"</code>.</p>

<pre><code>Former::text('text')-&gt;setAttribute([string], [string])
</code></pre>

<p>Can be used as a fallback to magic methods if you really have to set an attribute that contains an underscore.</p>

<pre><code>Former::text('foo')-&gt;setAttributes([associative array])
</code></pre>

<p>Allows you to mass-set a couple of attributes with an array. So the following examples do the exact same thing.</p>

<pre><code>Former::text('foo')-&gt;class('foo')-&gt;foo('bar')

Former::text('foo')-&gt;setAttributes(array( 'class' =&gt; 'foo', 'foo' =&gt; 'bar' ))
</code></pre>

<p>The second way is not the cleanest per say but is still useful if you have to set the same attributes for a group of fields, you can then just create an array with the attributes you want and assign it to each field in order to stay DRY.</p>

<pre><code>Former::text('foo')-&gt;label([string])
</code></pre>

<p>Sets the label of a field to a string. If you're using Bootstrap this has a specific meaning since the label that will be created will automatically have the class <code>control-label</code>.</p>

<pre><code>Former::text('foo')-&gt;addGroupClass('bar')
</code></pre>

<p>Adds specified class attributes to the parent control-group.</p>

<h3>
<a name="helpers-1" class="anchor" href="#helpers-1"><span class="octicon octicon-link"></span></a>Helpers</h3>

<pre><code>$textField = Former::text('foo')-&gt;require()
$textField = $textField-&gt;isRequired() // Returns "true"
</code></pre>

<p>Checks if a field has been set to required, be it by yourself or when transposing Laravel rules.</p>

<h2>
<a name="formercheckable" class="anchor" href="#formercheckable"><span class="octicon octicon-link"></span></a>Former\Checkable</h2>

<p>Checkable is a subset of Field, which means all methods available with Field are available with Checkable. The latter just offers a few more methods related to radios and checkboxes.</p>

<pre><code>Former::radios('foo')-&gt;inline()
Former::checkboxes('foo')-&gt;stacked()
</code></pre>

<p>Set the current radios and checkboxes as inline, or stacked (vertical)</p>

<pre><code>Former::checkbox('foo')-&gt;text('bar')
</code></pre>

<p>If you're printing only a single checkbox/radio, it's easier to use this method to set the text that will be appended to it.</p>

<pre><code>Former::checkbox('foo')-&gt;check()
Former::radio('foo')-&gt;check()

Former::checkboxes('foo')-&gt;checkboxes('foo', 'bar')-&gt;check('foo_0')

Former::radios('foo')-&gt;checkboxes('foo', 'bar')-&gt;check(0)
</code></pre>

<p>The check method allows you to check a one-off checkable element, or to check one in a group of checkable elements. Now for single elements you just call <code>check()</code> without arguments – but when you're using a group you need to specify which element is going to be checked. This is done differently if you're creating radios or checkboxes. Why ? Because checkboxes can only be differentiated by their field name, while radio elements can only be differentiated by their value.
So that's it, for checkboxes you specify the name of the one you want to see checked, and for radios you specify its value.</p>

<h2>
<a name="formercontrolgroup" class="anchor" href="#formercontrolgroup"><span class="octicon octicon-link"></span></a>Former\ControlGroup</h2>

<p>Helpers and methods related to Bootstrap's control groups. If you set the <code>$useBootstrap</code> option to false earlier, this class is not accessible, nor are any of its methods.</p>

<pre><code>Former::text('foo')-&gt;state([error|warning|info|success])
</code></pre>

<p>Set the state of a control group to a particular Bootstrap class.</p>

<pre><code>Former::text('foo')-&gt;inlineHelp([string])
Former::text('foo')-&gt;blockHelp([string])
</code></pre>

<p>Adds an inline/block help text to the current field. Both can be called (meaning you can have both an inline and a block text) but can only be called once (which means if you call <code>inlineHelp</code> twice the latter will overwrite whatever you typed in the first one).</p>

<pre><code>Former::text('foo')-&gt;append([string, ...])
Former::text('foo')-&gt;prepend([string, ...])
</code></pre>

<p>Prepends one or more icons/text/buttons to the current field. Those functions use <code>func_get_args()</code> so you can per example do that :</p>

<pre><code>Former::text('foo')-&gt;prepend('@', '$')
</code></pre>

<h2>
<a name="formerfieldsinput" class="anchor" href="#formerfieldsinput"><span class="octicon octicon-link"></span></a>Former\Fields\Input</h2>

<p>All classes related to Input-type fields.</p>

<pre><code>Former::text('foo')-&gt;useDatalist([array])

Former::text('foo')-&gt;useDatalist([Query], [string], [string (id)])
</code></pre>

<p>Creates a <code>&lt;datalist&gt;</code> tag and links it to the field in order to create a select/text mix.</p>

<h2>
<a name="formerfieldsselect" class="anchor" href="#formerfieldsselect"><span class="octicon octicon-link"></span></a>Former\Fields\Select</h2>

<p>All classes related to Select-type fields (select, multiselect, etc)</p>

<pre><code>Former::select('foo')-&gt;options([array], [selected])
</code></pre>

<p>Populates a <code>&lt;select&gt;</code> field with an array of options, where <strong>key</strong> will be the option's <em>value</em> and <strong>value</strong> will be its <em>text</em>. It sounds retarted explained like that but it means the following :</p>

<pre><code>Former::select('clients')-&gt;options(array(
    1  =&gt; 'Max',
    3  =&gt; 'Clémence',
    12 =&gt; 'Jean Valjean'
));

&lt;select name="foo"&gt;
    &lt;option value="1"&gt;Max&lt;/option&gt;
    &lt;option value="3"&gt;Clémence&lt;/option&gt;
    &lt;option value="12"&gt;Jean Valjean&lt;/option&gt;
&lt;/select&gt;
</code></pre>

<p>Which looks really natural : you select a client's name and get it's ID in return. The second parameters allows to preselect one option, per example if in the above example we'd done <code>-&gt;options($clients, 3)</code> then Clémence would have been selected.</p>

<pre><code>Former::select('foo')-&gt;select(3)
</code></pre>

<p>Alias for <code>-&gt;value()</code>, selects an option.</p>

<pre><code>Former::select('foo')-&gt;fromQuery([array], [string], [string (id)])
</code></pre>

<p>Populates a <code>&lt;select&gt;</code> field with the results of a Fluent/Eloquent query. Second argument is the attribute used by Former for the options text, third argument is the attribute used by Former for the options value (defaults to the <code>id</code> attribute).
Second argument defaults to the model's <code>__toString()</code> method, thirds defaults to the model's <code>get_key()</code> method.</p>

<pre><code>Former::select('foo')-&gt;placeholder('Select one option...')
</code></pre>

<p>Create a ghost option set as disabled by default to serve as placeholder for the select.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/Anahkiasen/former/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/Anahkiasen/former/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/Anahkiasen/former"></a> is maintained by <a href="https://github.com/Anahkiasen">Anahkiasen</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-728496-7");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>